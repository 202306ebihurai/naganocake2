<h2>注文情報入力</h2>

<div>
  <%= form_with model: @order, url: confirm_orders_path, local: true do |f| %>
    <div>
      <p>支払方法</p>
      <%= f.radio_button :payment_method, Order.payment_methods.key(0), id: "credit_card" %>
      <%= f.label :payment_method, Order.payment_methods.key(0), for: "credit_card" %>

      <%= f.radio_button :payment_method, Order.payment_methods.key(1), id: "transfer" %>
      <%= f.label :payment_method, Order.payment_methods.key(1), for: "transfer" %>
    </div>

    <div>
      <p>お届け先</p>
      <div>
        <%= f.radio_button :address_type, 0, {:checked => true}%>
        <%= f.label :order_address, "ご自身の住所" %><br>
        <%= "〒" + current_customer.postcode + " " + current_customer.address %><br>
        <%= current_customer.last_name + " " + current_customer.first_name %>
      </div>

      <div>
        <%= f.radio_button :address_type, 1 %>
        <%= f.label :order_address, "登録済住所から選択" %><br>
        <%= f.select :order_address, options_from_collection_for_select(@addresses, :id, :address_display) %>
      </div>

      <div>
        <%= f.radio_button :address_type, 2 %>
        <%= f.label :order_address, "新しいお届け先" %>
        <table>
          <tr>
            <td><%= f.label :postcode, "郵便番号(ハイフンなし)" %></td>
            <td><%= f.text_field :postcode %></td>
          </tr>
          <tr>
            <td><%= f.label :address, "住所" %></td>
            <td><%= f.text_field :address %></td>
          </tr>
          <tr>
            <td><%= f.label :address_name, "宛名" %></td>
            <td><%= f.text_field :address_name %></td>
          </tr>
        </table>
        <p class="notice"><%= flash[:alert] %></p>
      </div>

    </div>

    <%= f.submit "確認画面へ進む", class: "btn btn-primary" %>
  <% end %>
</div>